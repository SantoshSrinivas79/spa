<template name="wb_tariff">
    <div class="c">
        <div class="card">
            <div class="card-header card-header-icon" data-background-color="purple">
                <i class="material-icons">chrome_reader_mode</i></div>
            <div class="card-content">
                <h4 class="card-title" style="cursor: pointer !important;font-family: 'Khmer OS Battambang'"><a
                        class="add"><i class="fa fa-plus"></i> Tariff</a></h4>
                <div class="col-md-12" style="padding:20px;">
                    <div class="animated fadeIn">
                        {{> tabular table=dataTable selector=selector class="cursor-pointer table table-striped"}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>


<template name="wb_tariffAdd">
    <div class="container animated fadeIn">
        {{#autoForm collection=collection id="wb_tariffAdd" type="insert"}}
            <div class="row">
                <div class="col-md-4">
                    {{> afQuickField name='name'}}
                    {{> afQuickField name='categoryId' label="Category" options=categoryData}}
                    {{> afQuickField name='penaltyAmount'}}
                    {{> afQuickField name='maintenance' label="Maintenance Price/1M3*"}}
                    {{> afQuickField name='isFixedMaintenance'}}
                </div>
                <div class="col-md-4">
                    {{> afQuickField name='code'}}
                    {{> afQuickField name='typeId' options=type}}
                    {{> afQuickField name='feeAmount'}}
                    {{> afQuickField name='contributionFeePrice' label="Contribution Price"}}
                    {{> afQuickField name='isFixedFloor'}}

                </div>
                <div class="col-md-4">
                    {{> afQuickField name='startDate'}}
                    {{> afQuickField name='floorBy' options=floorBy}}
                    {{> afQuickField name='measureId' options=measure}}

                </div>
            </div>
            {{> wb_priceRange}}
            <div class="box-footer">
                {{> wb_actionAdd}}
            </div>
        {{/autoForm}}
    </div>
</template>

<template name="wb_tariffEdit">
    <div class="container animated fadeIn">
        {{#autoForm collection=collection id="wb_tariffEdit" doc=this type="update"}}
            <div class="row">
                <div class="col-md-4">
                    {{> afQuickField name='name'}}
                    {{> afQuickField name='categoryId' label="Category" options=categoryData}}
                    {{> afQuickField name='penaltyAmount'}}
                    {{> afQuickField name='maintenance' label="Maintenance Price/1M3*"}}
                    {{> afQuickField name='isFixedMaintenance'}}
                </div>
                <div class="col-md-4">
                    {{> afQuickField name='code'}}
                    {{> afQuickField name='typeId' options=type}}
                    {{> afQuickField name='feeAmount'}}
                    {{> afQuickField name='contributionFeePrice' label="Contribution Price"}}
                    {{> afQuickField name='isFixedFloor'}}

                </div>
                <div class="col-md-4">
                    {{> afQuickField name='startDate'}}
                    {{> afQuickField name='floorBy' options=floorBy}}
                    {{> afQuickField name='measureId' options=measure}}

                </div>
            </div>
            {{> wb_priceRange}}
            <div class="box-footer">
                {{> wb_actionEdit}}
            </div>
        {{/autoForm}}
    </div>


    <!--<div class="container animated fadeIn">
        <div class="card">
            <div class="card-content">
                <div class="card-title">
                    <i class="material-icons">build</i> Edit Setting Price <span class="right"><i
                        class="material-icons small red-text cancel cursor-pointer">arrow_back</i></span>
                </div>
                {{#autoForm collection=collection id="wb_tariffEdit" doc=data type="update"}}
                    <div class="row">
                        <div class="col s6">
                            {{> afQuickField name='categoryId' label="Category" options=categoryData}}
                        </div>
                        <div class="col s6">
                            {{> afQuickField name='tariffId' label="Tariff" options=tariffData}}

                        </div>

                        <div class="col s3">
                            {{> afQuickField name='maintenance' label="Maintenance Price/1M3*"}}

                        </div>
                        <div class="col s3">
                            {{> afQuickField name='contributionFeePrice' label="Contribution Price"}}

                        </div>
                        <div class="col s3">
                            {{> afQuickField name='type'}}
                        </div>
                    </div>
                    {{> wb_priceRange}}
                    <div class="row">
                        <div class="col s11">
                            {{> wb_preloader}}
        {{> wb_actionEdit}}
                        </div>
                    </div>

                {{/autoForm}}
            </div>
        </div>
    </div>-->
</template>

<template name="wb_priceRange">
    {{#autoForm schema=schema id="wb_priceRange"}}


        <div class="row">
            <div class="col-md-4">
                {{> afQuickField name='startRange'}}
            </div>
            <div class="col-md-4">
                {{> afQuickField name='endRange'}}

            </div>
            <div class="col-md-3">
                {{> afQuickField name='price'}}
            </div>
            <div class="col-md-1" style="padding-right:0px; padding-left:0px; margin-top: 24px;">
                <a class="btn btn-success add"><i
                        class="fa fa-plus"></i></a>
            </div>
        </div>


        <div class="box box-primary">
            <h3 class="box-title">Rang List For Price</h3>
        </div>
        <div class="box-body">
            <table class="table table-striped">
                <tbody>
                <tr>
                    <th style="width: 10px">#</th>
                    <th>Start Range</th>
                    <th>End Range</th>
                    <th>Price</th>
                    <th style="width: 40px">Action</th>
                </tr>
                {{#each priceRnage}}
                    <!--<div class="row data-row">
                        <div class="col-md-4">
                            {{> afQuickField name='startRangeOutput' label=false value=startRange}}
                        </div>
                        <div class="col-md-4">
                            {{> afQuickField name='endRangeOutput' label=false value=endRange}}
                        </div>
                        <div class="col-md-3">
                            {{> afQuickField name='priceOutput' label=false value=price}}
                        </div>
                        <div class="col-md-1">
                            <a class="btn btn-danger del">
                                <i class="fa fa-minus"></i></a>
                        </div>
                    </div>-->
                    <tr>
                        <td>
                            {{level}}
                        </td>
                        <td>
                            {{> afQuickField name='startRangeOutput' label=false value=startRange readonly=true}}
                        </td>
                        <td>
                            {{> afQuickField name='endRangeOutput' label=false value=endRange readonly=true}}
                        </td>
                        <td>
                            {{> afQuickField name='priceOutput' label=false value=price readonly=true}}
                        </td>
                        <td>
                            <a class="btn btn-danger del">
                                <i class="fa fa-minus"></i></a>
                        </td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        </div>
    {{/autoForm}}
</template>
